<div class="card mb-4 category-card">
    <div class="card-header text-white" style="background-color: #010e36ff;">
        <h4 class="mb-0">Категории</h4>
    </div>
    <div class="list-group list-group-flush" 
         style="max-height: 200vh; overflow-y: auto;">
        {% for category in categories %}
            {% if not category.parent %}
            <div class="list-group-item p-0" style="min-height: 50px;"> 
                {% if category.children.all %}
                    <a href="#" class="d-flex justify-content-between align-items-center p-3 text-decoration-none" 
                        data-bs-toggle="collapse" data-bs-target="#subcategories-{{ category.id }}" 
                        style="color: #011041ca;">
                        <h5 class="mb-0">{{ category.name }}</h5>
                        <i class="bi bi-chevron-down"></i> 
                    </a>
                    <div class="collapse" id="subcategories-{{ category.id }}" style="color: #011041ca;">
                        <div class="list-group list-group-flush" style="color: #011041ca;">
                            {% for child in category.children.all %}
                                <a href="{{ child.get_absolute_url }}" 
                                   class="list-group-item list-group-item-action ps-5 py-3" 
                                   style="min-height: 45px; line-height: 1.8;"> 
                                    <h6 class="mb-0"> 
                                        {{ child.name }} 
                                    </h6>
                                </a>
                            {% endfor %}
                        </div>
                    </div>
                {% else %}
                    <a href="{{ category.get_absolute_url }}" 
                       class="d-block p-3 text-decoration-none" 
                       style="color: #011041ca; line-height: 2;"> 
                        <h6 class="mb-0">
                            {{ category.name }}
                        </h6>
                    </a>
                {% endif %}
            </div>
            {% endif %}
        {% endfor %}
    </div>
</div>